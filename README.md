# Cooperative Bot Game
### Кооперативный игровой бот для ВКонтакте

Cooperative Bot Game создан для компании "Образ будущего", в нем настраиваются 3 этапа, в каждом из которых есть свои задания. Для прохождения создаются 10 команд по 5 человек, каждая команда выполняет свой квест. 

### Используется:
- VKBottle=4.3.12
- AIOMysql=0.1.1
- Pandas=1.4.4
- SQLite3

### Функционал и работа
#### В боте есть три части игры:
1) PartOne - в ней пользователь проходит разные опросы и этапы знакомства, все ответы на вопросы записываются в database.db
2) PartTwo - здесь самое интересное происходит, для интерактива настроиваются QRCode сканнеры, они предназначены для того, чтобы команды считывали QR код и получали сообщение от бота. 
3) PartThree - последняя часть, где дети отвечают на вопросы по поводу понравилось/не понравилось им. Что можно в боте доработать и тд.

#### Есть также много сомнительных моментов по поводу бота, странных решений и страшного кода:
-  Много текста просто раскидано в файлах .py
-  Используется SQLite в связке с AioMysql
-  Нету комментариев к коду
-  Для составления отчета придуманы функции которые закидывают данные в Excel таблицы
-  Бессмысленно большие импорты

#### Собственно почему здесь SQLite и AioMysql:
Для работы бота, именно во второй части нужны сканнеры, и скрипт, который считывает данные с COM порта и отправляет это на сервер 
на котором скрипт, написанные на PHP, сохраняет данные в бд,
для того чтобы бот мог подключиться и считать данные оттуда. 

А SQLite используется лишь локально при работе бота для записи игроков и их ответов, также там записывется номер команды и тд.

Все необходимые файлы для сканнера положил в папку **necessary**

### Запуск

Cooperative Bot Game требует Python для запуска.

Необходимо установить все зависимости. 

```sh
pip3 install -r requirements.txt
```

И также в .env файле указать токен бота, и настройки для MySQL

```sh
BOT_TOKEN=TOKEN
ADMINS=314585243
USE_REDIS=False

DB_HOST=localhost
DB_PORT=3306
DB_PASS=PASS
DB_USER=USER
DB_NAME=NAME
```

После этого можно запустить

```sh
python3 bot.py
```

### Разработка

Бот был разработан [Булатом](https://t.me/kh4bu) и [Вадимом](@rakhmetov_v). Я его лишь дорабатывал, изменял функционал и написал эту README, а также думаю над исправлением многих моментов в коде.

Если вы читаете это, то можете со мной связаться в .env указан мой ID в ВК, а также вот [мой тг](https://t.me/CrowdedSilence)

Успехов разобраться в этом жоском треше :)
